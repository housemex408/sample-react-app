!function t(e,r,a){function n(s,i){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!i&&c)return c(s,!0);if(o)return o(s,!0);var m=new Error("Cannot find module '"+s+"'");throw m.code="MODULE_NOT_FOUND",m}var u=r[s]={exports:{}};e[s][0].call(u.exports,function(t){var r=e[s][1][t];return n(r?r:t)},u,u.exports,t,e,r,a)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(t,e,r){var a=React.createClass({displayName:"Comment",rawMarkup:function(){var t=marked(this.props.children.toString(),{sanitize:!0});return{__html:t}},render:function(){return React.createElement("div",{className:"comment"},React.createElement("h2",{className:"commentAuthor"},this.props.author),React.createElement("span",{dangerouslySetInnerHTML:this.rawMarkup()}))}}),n=React.createClass({displayName:"CommentBox",loadCommentsFromServer:function(){$.ajax({url:this.props.url,dataType:"json",cache:!1,success:function(t){this.setState({data:t})}.bind(this),error:function(t,e,r){console.error(this.props.url,e,r.toString())}.bind(this)})},handleCommentSubmit:function(t){var e=this.state.data,r=e.concat([t]);this.setState({data:r}),$.ajax({url:this.props.url,dataType:"json",type:"POST",data:t,success:function(t){this.setState({data:t})}.bind(this),error:function(t,e,r){console.error(this.props.url,e,r.toString())}.bind(this)})},getInitialState:function(){return{data:[]}},componentDidMount:function(){this.loadCommentsFromServer(),setInterval(this.loadCommentsFromServer,this.props.pollInterval)},render:function(){return React.createElement("div",{className:"commentBox"},React.createElement("h1",null,"Comments"),React.createElement(o,{data:this.state.data}),React.createElement(s,{onCommentSubmit:this.handleCommentSubmit}))}}),o=React.createClass({displayName:"CommentList",render:function(){var t=this.props.data.map(function(t,e){return React.createElement(a,{author:t.author,key:e},t.text)});return React.createElement("div",{className:"commentList"},t)}}),s=React.createClass({displayName:"CommentForm",handleSubmit:function(t){t.preventDefault();var e=this.refs.author.value.trim(),r=this.refs.text.value.trim();r&&e&&(this.props.onCommentSubmit({author:e,text:r}),this.refs.author.value="",this.refs.text.value="")},render:function(){return React.createElement("form",{className:"commentForm",onSubmit:this.handleSubmit},React.createElement("input",{type:"text",placeholder:"Your name",ref:"author"}),React.createElement("input",{type:"text",placeholder:"Say something...",ref:"text"}),React.createElement("input",{type:"submit",value:"Post"}))}});ReactDOM.render(React.createElement(n,{url:"/api/comments",pollInterval:2e3}),document.getElementById("content"))},{}]},{},[1]);